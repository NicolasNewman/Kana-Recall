import{s as ue,e as w,t as X,a as q,c as j,b as C,r as Y,f as O,d as A,h as y,i as fe,j as m,l as K,u as ke,n as Te,P as Ge,H as be,Q as pe,w as Ee,B as ce,R as oe,g as Ve}from"../chunks/scheduler.CyFU2WUr.js";import{S as he,i as de,a as P,g as ve,c as ye,t as N,b as $,d as x,m as ee,e as te,f as ie}from"../chunks/index.DhbsmVG4.js";import{c as T,a as Qe,L as Re,r as Ae,b as We,s as Je}from"../chunks/router.BAPWZOKB.js";import{e as Z}from"../chunks/each.D6YF6ztN.js";import{g as Me}from"../chunks/entry.BXOdRd34.js";function Xe(e){let a,l,t,o,r,s,g;return{c(){a=w("label"),l=w("span"),t=X(e[0]),o=q(),r=w("input"),this.h()},l(u){a=j(u,"LABEL",{class:!0});var c=C(a);l=j(c,"SPAN",{class:!0});var b=C(l);t=Y(b,e[0]),b.forEach(O),o=A(c),r=j(c,"INPUT",{type:!0,class:!0}),c.forEach(O),this.h()},h(){y(l,"class","label-text mr-2 text-lg"),y(r,"type","checkbox"),y(r,"class","checkbox"),r.value=e[0],r.checked=e[1],y(a,"class","cursor-pointer label")},m(u,c){fe(u,a,c),m(a,l),m(l,t),m(a,o),m(a,r),s||(g=K(r,"click",e[2]),s=!0)},p(u,[c]){c&1&&ke(t,u[0]),c&1&&(r.value=u[0]),c&2&&(r.checked=u[1])},i:Te,o:Te,d(u){u&&O(a),s=!1,g()}}}function Ye(e,a,l){let{kana:t}=a,{checked:o=!1}=a;function r(s){Ge.call(this,e,s)}return e.$$set=s=>{"kana"in s&&l(0,t=s.kana),"checked"in s&&l(1,o=s.checked)},[t,o,r]}class Ze extends he{constructor(a){super(),de(this,a,Ye,Xe,ue,{kana:0,checked:1})}}function Pe(e,a,l){const t=e.slice();return t[7]=a[l],t}function ze(e){let a,l;return a=new Ze({props:{kana:e[7],checked:e[0].has(e[7])}}),a.$on("click",e[4]),{c(){$(a.$$.fragment)},l(t){x(a.$$.fragment,t)},m(t,o){ee(a,t,o),l=!0},p(t,o){const r={};o&2&&(r.kana=t[7]),o&3&&(r.checked=t[0].has(t[7])),a.$set(r)},i(t){l||(P(a.$$.fragment,t),l=!0)},o(t){N(a.$$.fragment,t),l=!1},d(t){te(a,t)}}}function $e(e){let a,l,t,o,r,s,g,u=Z(e[1]),c=[];for(let f=0;f<u.length;f+=1)c[f]=ze(Pe(e,u,f));const b=f=>N(c[f],1,1,()=>{c[f]=null});return{c(){a=w("div"),l=w("input"),t=q(),o=w("div");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){a=j(f,"DIV",{class:!0});var _=C(a);l=j(_,"INPUT",{type:!0,class:!0}),t=A(_),o=j(_,"DIV",{class:!0});var h=C(o);for(let v=0;v<c.length;v+=1)c[v].l(h);h.forEach(O),_.forEach(O),this.h()},h(){y(l,"type","checkbox"),y(l,"class","toggle toggle-accent"),(e[2]===void 0||e[3]===void 0)&&be(()=>e[6].call(l)),y(o,"class","flex flex-col w-fit items-center grow-[1] justify-between"),y(a,"class","flex flex-col items-center")},m(f,_){fe(f,a,_),m(a,l),l.checked=e[2],l.indeterminate=e[3],m(a,t),m(a,o);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(o,null);r=!0,s||(g=[K(l,"change",e[6]),K(l,"click",e[5])],s=!0)},p(f,[_]){if(_&4&&(l.checked=f[2]),_&8&&(l.indeterminate=f[3]),_&19){u=Z(f[1]);let h;for(h=0;h<u.length;h+=1){const v=Pe(f,u,h);c[h]?(c[h].p(v,_),P(c[h],1)):(c[h]=ze(v),c[h].c(),P(c[h],1),c[h].m(o,null))}for(ve(),h=u.length;h<c.length;h+=1)b(h);ye()}},i(f){if(!r){for(let _=0;_<u.length;_+=1)P(c[_]);r=!0}},o(f){c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)N(c[_]);r=!1},d(f){f&&O(a),pe(c,f),s=!1,Ee(g)}}}function xe(e,a,l){let{kanas:t}=a,{set:o=new Set}=a,r=!1,s=!1;function g(b){const f=b.target;f.checked?o.add(f.value):o.delete(f.value),l(0,o)}function u(b){b.target.checked?t.forEach(_=>o.add(_)):t.forEach(_=>o.delete(_)),l(0,o)}function c(){r=this.checked,s=this.indeterminate,l(2,r),l(0,o),l(1,t),l(3,s),l(0,o),l(1,t)}return e.$$set=b=>{"kanas"in b&&l(1,t=b.kanas),"set"in b&&l(0,o=b.set)},e.$$.update=()=>{e.$$.dirty&3&&l(2,r=o.size===t.length),e.$$.dirty&3&&l(3,s=o.size>0&&o.size<t.length)},[o,t,r,s,g,u,c]}class Ke extends he{constructor(a){super(),de(this,a,xe,$e,ue,{kanas:1,set:0})}}function et(...e){const a=new Set;for(const l of e)for(const t of l)a.add(t);return a}function Be(e,a,l){const t=e.slice();return t[19]=a[l],t[20]=a,t[21]=l,t}function Le(e,a,l){const t=e.slice();return t[19]=a[l],t[22]=a,t[21]=l,t}function Ne(e){let a,l,t;function o(s){e[13](s,e[21])}let r={kanas:e[19]};return e[0][e[21]]!==void 0&&(r.set=e[0][e[21]]),a=new Ke({props:r}),ce.push(()=>ie(a,"set",o)),{c(){$(a.$$.fragment)},l(s){x(a.$$.fragment,s)},m(s,g){ee(a,s,g),t=!0},p(s,g){e=s;const u={};!l&&g&1&&(l=!0,u.set=e[0][e[21]],oe(()=>l=!1)),a.$set(u)},i(s){t||(P(a.$$.fragment,s),t=!0)},o(s){N(a.$$.fragment,s),t=!1},d(s){te(a,s)}}}function Ue(e){let a,l,t;function o(s){e[16](s,e[21])}let r={kanas:e[19]};return e[1][e[21]]!==void 0&&(r.set=e[1][e[21]]),a=new Ke({props:r}),ce.push(()=>ie(a,"set",o)),{c(){$(a.$$.fragment)},l(s){x(a.$$.fragment,s)},m(s,g){ee(a,s,g),t=!0},p(s,g){e=s;const u={};!l&&g&2&&(l=!0,u.set=e[1][e[21]],oe(()=>l=!1)),a.$set(u)},i(s){t||(P(a.$$.fragment,s),t=!0)},o(s){N(a.$$.fragment,s),t=!1},d(s){te(a,s)}}}function tt(e){let a,l,t,o,r,s,g,u,c,b,f,_,h,v=Z(e[6]),k=[];for(let i=0;i<v.length;i+=1)k[i]=Ne(Le(e,v,i));const H=i=>N(k[i],1,1,()=>{k[i]=null});let z=Z(e[7]),p=[];for(let i=0;i<z.length;i+=1)p[i]=Ue(Be(e,z,i));const Q=i=>N(p[i],1,1,()=>{p[i]=null});return{c(){a=w("div"),l=w("div"),t=w("input"),o=q(),r=w("div");for(let i=0;i<k.length;i+=1)k[i].c();s=q(),g=w("div"),u=w("input"),c=q(),b=w("div");for(let i=0;i<p.length;i+=1)p[i].c();this.h()},l(i){a=j(i,"DIV",{class:!0});var d=C(a);l=j(d,"DIV",{class:!0});var n=C(l);t=j(n,"INPUT",{type:!0,class:!0}),o=A(n),r=j(n,"DIV",{class:!0});var E=C(r);for(let V=0;V<k.length;V+=1)k[V].l(E);E.forEach(O),n.forEach(O),s=A(d),g=j(d,"DIV",{class:!0});var S=C(g);u=j(S,"INPUT",{type:!0,class:!0}),c=A(S),b=j(S,"DIV",{class:!0});var G=C(b);for(let V=0;V<p.length;V+=1)p[V].l(G);G.forEach(O),S.forEach(O),d.forEach(O),this.h()},h(){y(t,"type","checkbox"),y(t,"class","toggle toggle-accent rotate-[270deg]"),(e[2]===void 0||e[3]===void 0)&&be(()=>e[11].call(t)),y(r,"class","flex mb-3 border-l-2 border-gray-400 pl-3"),y(l,"class","flex items-center"),y(u,"type","checkbox"),y(u,"class","toggle toggle-accent rotate-[270deg]"),(e[4]===void 0||e[5]===void 0)&&be(()=>e[14].call(u)),y(b,"class","flex border-l-2 border-gray-400 pl-3"),y(g,"class","flex items-center"),y(a,"class","p-3")},m(i,d){fe(i,a,d),m(a,l),m(l,t),t.checked=e[2],t.indeterminate=e[3],m(l,o),m(l,r);for(let n=0;n<k.length;n+=1)k[n]&&k[n].m(r,null);m(a,s),m(a,g),m(g,u),u.checked=e[4],u.indeterminate=e[5],m(g,c),m(g,b);for(let n=0;n<p.length;n+=1)p[n]&&p[n].m(b,null);f=!0,_||(h=[K(t,"change",e[11]),K(t,"click",e[12]),K(u,"change",e[14]),K(u,"click",e[15])],_=!0)},p(i,[d]){if(d&4&&(t.checked=i[2]),d&8&&(t.indeterminate=i[3]),d&65){v=Z(i[6]);let n;for(n=0;n<v.length;n+=1){const E=Le(i,v,n);k[n]?(k[n].p(E,d),P(k[n],1)):(k[n]=Ne(E),k[n].c(),P(k[n],1),k[n].m(r,null))}for(ve(),n=v.length;n<k.length;n+=1)H(n);ye()}if(d&16&&(u.checked=i[4]),d&32&&(u.indeterminate=i[5]),d&130){z=Z(i[7]);let n;for(n=0;n<z.length;n+=1){const E=Be(i,z,n);p[n]?(p[n].p(E,d),P(p[n],1)):(p[n]=Ue(E),p[n].c(),P(p[n],1),p[n].m(b,null))}for(ve(),n=z.length;n<p.length;n+=1)Q(n);ye()}},i(i){if(!f){for(let d=0;d<v.length;d+=1)P(k[d]);for(let d=0;d<z.length;d+=1)P(p[d]);f=!0}},o(i){k=k.filter(Boolean);for(let d=0;d<k.length;d+=1)N(k[d]);p=p.filter(Boolean);for(let d=0;d<p.length;d+=1)N(p[d]);f=!1},d(i){i&&O(a),pe(k,i),pe(p,i),_=!1,Ee(h)}}}function lt(e,a,l){let{syllabary:t}=a,{selected:o=[]}=a,r=!1,s=!1;const g=[Object.values(T[t].vowel),Object.values(T[t].k),Object.values(T[t].s),Object.values(T[t].t),Object.values(T[t].n),Object.values(T[t].h),Object.values(T[t].m),Object.values(T[t].r),Object.values(T[t].y),Object.values(T[t].w),Object.values(T[t]._n)],u=g.flat().length;let c=g.map(()=>new Set),b=!1,f=!1;const _=[Object.values(T[t].g),Object.values(T[t].z),Object.values(T[t].d),Object.values(T[t].b),Object.values(T[t].p)],h=_.flat().length;let v=_.map(()=>new Set);function k(n,E){const S=n.target,G=E==="primary"?g:_,V=E==="primary"?c:v;S.checked?G.forEach((L,B)=>L.forEach(R=>V[B].add(R))):G.forEach((L,B)=>L.forEach(R=>V[B].delete(R))),E==="primary"&&l(0,c),E==="dakuten"&&l(1,v)}function H(){r=this.checked,s=this.indeterminate,l(2,r),l(0,c),l(3,s),l(0,c)}const z=n=>k(n,"primary");function p(n,E){e.$$.not_equal(c[E],n)&&(c[E]=n,l(0,c))}function Q(){b=this.checked,f=this.indeterminate,l(4,b),l(1,v),l(5,f),l(1,v)}const i=n=>k(n,"dakuten");function d(n,E){e.$$.not_equal(v[E],n)&&(v[E]=n,l(1,v))}return e.$$set=n=>{"syllabary"in n&&l(10,t=n.syllabary),"selected"in n&&l(9,o=n.selected)},e.$$.update=()=>{if(e.$$.dirty&1){const n=c.reduce((E,S)=>E+S.size,0);l(2,r=n===u),l(3,s=n>0&&n<u)}if(e.$$.dirty&2){const n=v.reduce((E,S)=>E+S.size,0);l(4,b=n===h),l(5,f=n>0&&n<h)}e.$$.dirty&3&&l(9,o=Array.from(et(...c,...v)))},[c,v,r,s,b,f,g,_,k,o,t,H,z,p,Q,i,d]}class qe extends he{constructor(a){super(),de(this,a,lt,tt,ue,{syllabary:10,selected:9})}}function at(e){let a,l,t,o,r,s,g=e[1].length+"",u,c,b,f,_,h,v,k=e[2].length+"",H,z,p,Q,i,d,n="Back",E,S,G="Start",V,L,B,R,le,ge,W,F,_e,ae,U,me,we;function Fe(I){e[7](I)}let je={syllabary:"hira"};e[1]!==void 0&&(je.selected=e[1]),B=new qe({props:je}),ce.push(()=>ie(B,"selected",Fe));function He(I){e[8](I)}let Ie={syllabary:"kata"};return e[2]!==void 0&&(Ie.selected=e[2]),F=new qe({props:Ie}),ce.push(()=>ie(F,"selected",He)),{c(){a=w("div"),l=w("div"),t=w("ul"),o=w("li"),r=w("button"),s=X("Hiragana ("),u=X(g),c=X(")"),f=q(),_=w("li"),h=w("button"),v=X("Katakana ("),H=X(k),z=X(")"),Q=q(),i=w("div"),d=w("a"),d.textContent=n,E=q(),S=w("button"),S.textContent=G,V=q(),L=w("div"),$(B.$$.fragment),ge=q(),W=w("div"),$(F.$$.fragment),this.h()},l(I){a=j(I,"DIV",{class:!0});var D=C(a);l=j(D,"DIV",{class:!0});var J=C(l);t=j(J,"UL",{class:!0});var M=C(t);o=j(M,"LI",{});var Oe=C(o);r=j(Oe,"BUTTON",{class:!0});var ne=C(r);s=Y(ne,"Hiragana ("),u=Y(ne,g),c=Y(ne,")"),ne.forEach(O),Oe.forEach(O),f=A(M),_=j(M,"LI",{});var Se=C(_);h=j(Se,"BUTTON",{class:!0});var se=C(h);v=Y(se,"Katakana ("),H=Y(se,k),z=Y(se,")"),se.forEach(O),Se.forEach(O),M.forEach(O),Q=A(J),i=j(J,"DIV",{class:!0});var re=C(i);d=j(re,"A",{href:!0,class:!0,"data-svelte-h":!0}),Ve(d)!=="svelte-q3r602"&&(d.textContent=n),E=A(re),S=j(re,"BUTTON",{class:!0,"data-svelte-h":!0}),Ve(S)!=="svelte-k8vut0"&&(S.textContent=G),re.forEach(O),J.forEach(O),V=A(D),L=j(D,"DIV",{});var Ce=C(L);x(B.$$.fragment,Ce),Ce.forEach(O),ge=A(D),W=j(D,"DIV",{});var De=C(W);x(F.$$.fragment,De),De.forEach(O),D.forEach(O),this.h()},h(){y(r,"class",b=`${e[0]==="hira"?"active":""}`),y(h,"class",p=`${e[0]==="kata"?"active":""}`),y(t,"class","menu bg-base-100 min-w-[10rem]"),y(d,"href",Ae.home),y(d,"class","btn btn-secondary mb-4"),y(S,"class","btn btn-primary"),y(i,"class","flex flex-col"),y(l,"class","flex flex-col justify-between"),L.hidden=le=e[0]==="kata",W.hidden=ae=e[0]==="hira",y(a,"class",`flex p-4  ${e[3]}`)},m(I,D){fe(I,a,D),m(a,l),m(l,t),m(t,o),m(o,r),m(r,s),m(r,u),m(r,c),m(t,f),m(t,_),m(_,h),m(h,v),m(h,H),m(h,z),m(l,Q),m(l,i),m(i,d),m(i,E),m(i,S),m(a,V),m(a,L),ee(B,L,null),m(a,ge),m(a,W),ee(F,W,null),U=!0,me||(we=[K(r,"click",e[5]),K(h,"click",e[6]),K(S,"click",e[4])],me=!0)},p(I,[D]){(!U||D&2)&&g!==(g=I[1].length+"")&&ke(u,g),(!U||D&1&&b!==(b=`${I[0]==="hira"?"active":""}`))&&y(r,"class",b),(!U||D&4)&&k!==(k=I[2].length+"")&&ke(H,k),(!U||D&1&&p!==(p=`${I[0]==="kata"?"active":""}`))&&y(h,"class",p);const J={};!R&&D&2&&(R=!0,J.selected=I[1],oe(()=>R=!1)),B.$set(J),(!U||D&1&&le!==(le=I[0]==="kata"))&&(L.hidden=le);const M={};!_e&&D&4&&(_e=!0,M.selected=I[2],oe(()=>_e=!1)),F.$set(M),(!U||D&1&&ae!==(ae=I[0]==="hira"))&&(W.hidden=ae)},i(I){U||(P(B.$$.fragment,I),P(F.$$.fragment,I),U=!0)},o(I){N(B.$$.fragment,I),N(F.$$.fragment,I),U=!1},d(I){I&&O(a),te(B),te(F),me=!1,Ee(we)}}}function nt(e,a,l){const t=We(),o=t==="web"?"aspect-[20/13] w-[900px] border-gray border rounded-md":"";t==="desktop"&&Qe.setSize(new Re(900,586));let r="hira",s=[],g=[];function u(){Je("keyset",[...s,...g]),Me(Ae.test("practice"))}const c=()=>l(0,r="hira"),b=()=>l(0,r="kata");function f(h){s=h,l(1,s)}function _(h){g=h,l(2,g)}return[r,s,g,o,u,c,b,f,_]}class ut extends he{constructor(a){super(),de(this,a,nt,at,ue,{})}}export{ut as component};
